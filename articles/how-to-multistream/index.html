<!doctype html>
<html data-n-head-ssr lang="en" prefix="og: https://ogp.me/ns#" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D,%22prefix%22:%7B%22ssr%22:%22og:%20https://ogp.me/ns#%22%7D%7D">
  <head>
    <title>JZimz | How to Build a Restream Server</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" content="summary_large_image"><meta data-n-head="ssr" data-hid="twitter:site" name="twitter:site" content="@jzimz"><meta data-n-head="ssr" data-hid="twitter:creator" name="twitter:creator" content="@jzimz"><meta data-n-head="ssr" data-hid="og:url" name="og:url" content="https://jzimz.com/articles/how-to-multistream"><meta data-n-head="ssr" data-hid="og:title" name="og:title" content="How to Build a Restream Server"><meta data-n-head="ssr" data-hid="og:description" name="og:description" content="You don't NEED Restream.io to multistream. Try building it yourself for less!"><meta data-n-head="ssr" data-hid="og:image" name="og:image" content="https://jzimz.com/img/how-to-multistream_thumb.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon/favicon.ico"><link data-n-head="ssr" data-hid="gf-prefetch" rel="dns-prefetch" href="https://fonts.gstatic.com/"><link data-n-head="ssr" data-hid="gf-preconnect" rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link data-n-head="ssr" data-hid="gf-preload" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><script data-n-head="ssr" data-hid="gf-script">!function(){var e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900",document.querySelector("head").appendChild(e)}()</script><noscript data-n-head="ssr" data-hid="gf-noscript"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"></noscript><link rel="preload" href="/_nuxt/520d4d7.js" as="script"><link rel="preload" href="/_nuxt/3afc5f9.js" as="script"><link rel="preload" href="/_nuxt/cbe0c1f.js" as="script"><link rel="preload" href="/_nuxt/1951d93.js" as="script"><link rel="preload" href="/_nuxt/01c10dc.js" as="script"><link rel="preload" href="/_nuxt/e23b539.js" as="script"><link rel="preload" href="/_nuxt/9617bfc.js" as="script"><style data-vue-ssr-id="4286c237:0 79f7a5ba:0 fa7ff0ca:0 5ff85224:0 0feb5f9a:0 35f41058:0">:root{--black:#212529;--semi-black:#343a40;--dark-grey-1:#495057;--dark-grey-2:#6c757d;--grey-1:#6c757d;--grey-2:#adb5bd;--grey-3:#ced4da;--light-grey-1:#dee2e6;--light-grey-2:#e9ecef;--semi-white:#f8f9fa;--white:#fff;--color:var(--black);--bg:var(--white);--border-color:var(--light-grey-1);--font-size:16px;--font-size-secondary:14px;--font-size-tertiary:12px;--font-weight-light:300;--font-weight-regular:400;--font-weight-medium:500;--font-weight-semi-bold:600;--font-weight-bold:700;--font-weight-extra-bold:800;--font-weight-heavy:900}.dark-mode{--color:var(--semi-white);--bg:var(--black);--border-color:var(--grey-1)}body{font-family:Poppins,sans-serif;font-weight:400;font-weight:var(--font-weight-regular);font-size:16px;font-size:var(--font-size);background-color:#fff;background-color:var(--bg);transition:background-color .3s}a:active,a:hover,a:link,a:visited,body{color:#212529;color:var(--color)}h1{font-size:36px;font-weight:900;font-weight:var(--font-weight-heavy)}h1,h2{margin:0}h2{font-size:22px}h3{margin:0;font-size:16px;font-size:var(--font-size);font-weight:300;font-weight:var(--font-weight-light)}blockquote,h3{color:#6c757d;color:var(--grey-1)}blockquote{border-left:4px solid #6c757d;border-left:4px solid var(--grey-1);margin-left:0;padding-left:40px}pre{border-radius:5px}.jz-flex-row>:not(:last-child){margin-right:4px}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:0 0;font-family:"Fira Code",Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2e3440}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#636f88}.token.punctuation{color:#81a1c1}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#81a1c1}.token.number{color:#b48ead}.token.boolean{color:#81a1c1}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a3be8c}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#81a1c1}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#88c0d0}.token.keyword{color:#81a1c1}.token.important,.token.regex{color:#ebcb8b}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}.page-blog-post[data-v-38b8429e]{display:flex;flex-direction:column;align-items:center;padding:40px 20px}.page-blog-post__sidebar[data-v-38b8429e]{width:100%;position:fixed;top:0;display:flex;justify-content:center;margin-right:600px}.page-blog-post__sidebar .sidebar-body[data-v-38b8429e]{width:200px}.page-blog-post .blog-post[data-v-38b8429e]{width:100%;max-width:680px}.page-blog-post .blog-post__header .meta[data-v-38b8429e]{display:flex;align-items:center;font-size:var(--font-size-tertiary);color:var(--grey-1);margin-top:20px}.page-blog-post .blog-post__header .meta[data-v-38b8429e]>:not(:last-child){margin-right:6px}.page-blog-post .blog-post__header .meta .author-name[data-v-38b8429e]{text-decoration:none;color:var(--grey-1);font-weight:var(--font-weight-semi-bold)}.page-blog-post .blog-post__header .meta .author-profile-pic[data-v-38b8429e]{border-radius:50%;height:28px;width:28px}.page-blog-post .divider[data-v-38b8429e]{border:1px solid var(--border-color);margin:40px 100px}.site-nav[data-v-466f11f2]{width:100%;padding-bottom:40px}.site-nav ul[data-v-466f11f2]{display:flex;justify-content:center;padding:0;margin:0}.site-nav ul li[data-v-466f11f2],.site-nav ul[data-v-466f11f2]{list-style:none}.site-nav ul li[data-v-466f11f2]:not(:last-child){margin-right:20px}.site-nav ul li a[data-v-466f11f2]{color:var(--grey-1);text-decoration:none}.site-nav ul li a.nuxt-link-exact-active[data-v-466f11f2],.site-nav ul li a[data-v-466f11f2]:hover{color:var(--color);transition:color .3s}.article-footer[data-v-022e5c5f]{text-align:center}@media only screen and (min-width:600px){.article-footer[data-v-022e5c5f]{padding:0 100px}}.article-footer__title[data-v-022e5c5f]{margin-bottom:10px}.article-footer__content[data-v-022e5c5f]{margin-bottom:20px}.article-footer .action-link[data-v-022e5c5f]{padding:10px 20px;background:var(--color);color:var(--bg);border-radius:4px;text-decoration:none;font-size:var(--font-size-secondary);display:inline-flex}.article-footer .action-link svg[data-v-022e5c5f]{margin-right:10px;fill:var(--bg)}</style><link rel="preload" href="/_nuxt/static/1644465539/articles/how-to-multistream/state.js" as="script"><link rel="preload" href="/_nuxt/static/1644465539/articles/how-to-multistream/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1644465539/manifest.js" as="script">
  </head>
  <body>
    <script data-n-head="ssr" data-hid="nuxt-color-mode-script" data-pbody="true">!function(){"use strict";var t=window,e=document,s=e.documentElement,a=["dark","light"],o=window.localStorage.getItem("nuxt-color-mode")||"system",c="system"===o?n():o,e=e.body.getAttribute("data-color-mode-forced");function r(e){e+="-mode";s.classList?s.classList.add(e):s.className+=" "+e}function l(e){return t.matchMedia("(prefers-color-scheme"+e+")")}function n(){if(t.matchMedia&&"not all"!==l("").media)for(var e of a)if(l(":"+e).matches)return e;return"light"}r(c=e?e:c),t.__NUXT_COLOR_MODE__={preference:o,value:c,getColorScheme:n,addClass:r,removeClass:function(e){e+="-mode";s.classList?s.classList.remove(e):s.className=s.className.replace(new RegExp(e,"g"),"")}}}()</script><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="page-blog-post" data-v-38b8429e><nav class="site-nav" data-v-466f11f2 data-v-38b8429e><ul data-v-466f11f2><li data-v-466f11f2><a href="/" class="nuxt-link-active" data-v-466f11f2>Home</a></li> <li data-v-466f11f2><a href="/articles" class="nuxt-link-active" data-v-466f11f2>Articles</a></li></ul></nav> <article class="blog-post" data-v-38b8429e><div class="blog-post__header" data-v-38b8429e><h1 data-v-38b8429e>How to Build a Restream Server</h1> <h3 data-v-38b8429e>You don't NEED Restream.io to multistream. Try building it yourself for less!</h3> <div data-v-38b8429e><div class="meta jz-flex-row" data-v-38b8429e><img src="/img/profile.png" alt="Author profile picture" class="author-profile-pic" data-v-38b8429e> <a href="/" class="author-name nuxt-link-active" data-v-38b8429e> Jason Sims </a> <span data-v-38b8429e>Feb 10</span> <span data-v-38b8429e>·</span> <span data-v-38b8429e>8 min read</span></div></div></div> <div class="blog-post__content nuxt-content" data-v-38b8429e data-v-38b8429e><p data-v-38b8429e data-v-38b8429e>Lately, I’ve been hearing a lot of talk about giving up on the Twitch Affiliate program and multistreaming to YouTube Gaming, Twitch, Facebook Gaming, or any other streaming platform you like for increased exposure to your content. I’m not going to get into the pros and cons of this approach in this article but will instead focus on how to multistream if you’re interested in doing so. More specifically, the cheapest way I’ve found to do it without overloading your upload connection to your internet provider. This should work with most streaming software but I’ll refer to OBS (Open Broadcaster Software) here.</p>
<p data-v-38b8429e data-v-38b8429e>If you’re only here to find out how to build your own restream server then you can <a href="#the-diy-option" data-v-38b8429e data-v-38b8429e>jump ahead to here</a>.</p>
<h2 id="first-what-is-multistreaming" data-v-38b8429e data-v-38b8429e><a href="#first-what-is-multistreaming" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>First, what is multistreaming?</h2>
<p data-v-38b8429e data-v-38b8429e>If you’re not familiar with multistreaming, it essentially duplicates your live stream to multiple sites instead of the standard setup of sending it to one. The options for doing this vary based on where the duplication occurs.</p>
<ul data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e><strong data-v-38b8429e data-v-38b8429e>The easiest option</strong>: Stream to another web service that will duplicate it</li>
<li data-v-38b8429e data-v-38b8429e><strong data-v-38b8429e data-v-38b8429e>The free option</strong>: Have your PC duplicate the stream locally</li>
<li data-v-38b8429e data-v-38b8429e><strong data-v-38b8429e data-v-38b8429e>The DIY option</strong>: Build your own web server that will duplicate it
I’ll go over each option but first, it’s important to understand what an RTMP server is. Some computer on the internet has to receive your encoded stream so it can be displayed to your viewers and RTMP is just an agreement between your PC and the receiver on how to send this information. This article isn’t a deep dive into the RTMP protocol but if you’d like to learn more about it you can <a href="https://www.adobe.com/content/dam/acom/en/devnet/rtmp/pdf/rtmp_specification_1.0.pdf" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>start here</a>.</li>
</ul>
<h2 id="the-easiest-option" data-v-38b8429e data-v-38b8429e><a href="#the-easiest-option" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>The easiest option</h2>
<h3 id="send-your-stream-to-another-web-service-that-will-duplicate-it" data-v-38b8429e data-v-38b8429e><a href="#send-your-stream-to-another-web-service-that-will-duplicate-it" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>Send your stream to another web service that will duplicate it</h3>
<p data-v-38b8429e data-v-38b8429e><a href="https://restream.io/multistreaming" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>Restream.io</a> hosts an RTMP server that will accept your stream and then forward it to any number of other RTMP servers you like, whether that’s Twitch, Facebook, YouTube, or some other platform. At the time of writing this article, it supports over 30 streaming providers and is by far the easiest option with some of the best features I’ve seen. However, if you don’t want their logo showing up on your streams or would like to stream to more than 2 channels you'll have to <a href="https://restream.io/pricing" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>pay $16/mo</a>.</p>
<h2 id="the-free-option" data-v-38b8429e data-v-38b8429e><a href="#the-free-option" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>The free option</h2>
<h3 id="have-your-pc-duplicate-the-stream-locally" data-v-38b8429e data-v-38b8429e><a href="#have-your-pc-duplicate-the-stream-locally" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>Have your PC duplicate the stream locally</h3>
<p data-v-38b8429e data-v-38b8429e>You should expect to pay for services that add a lot of value like Restream but anyone on a budget that only needs basic multistreaming capabilities will probably be looking for a free alternative like <a href="https://obsproject.com/forum/resources/multiple-rtmp-outputs-plugin.964/" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>multi-rtmp</a>. It’s an OBS plugin that hosts your own RTMP server on your PC that handles the broadcasting instead of Restream.io. This is <em data-v-38b8429e data-v-38b8429e>an awesome option</em> but has a pretty big problem. Your internet connection will probably struggle with it because the broadcasting is all happening on your local network. For example, if you’re using it to stream to 3 different platforms, then you are uploading 3 versions of your stream. That means for a standard 720p60fps stream getting multistreamed to 3 platforms, you’re uploading 4,500kbps x 3 = 13,500kbps (13.5mbps). Keep this in mind and run a speed test to see how that number compares against the upload speed you’re getting from your ISP.</p>
<h2 id="the-diy-option" data-v-38b8429e data-v-38b8429e><a href="#the-diy-option" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>The DIY option</h2>
<h3 id="build-your-own-web-server-that-will-duplicate-it" data-v-38b8429e data-v-38b8429e><a href="#build-your-own-web-server-that-will-duplicate-it" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>Build your own web server that will duplicate it</h3>
<p data-v-38b8429e data-v-38b8429e>So what can you do if you don’t want to pay $16/mo on restream and don’t have enough upload speed to use the multi-rtmp OBS plugin? Host your own RTMP server in the cloud! You can do this with a service called Linode that lets you run servers on their platform for a monthly fee.</p>
<p data-v-38b8429e data-v-38b8429e>Fortunately, it doesn’t take much computing power to forward a stream to multiple destinations so you can do this for $5/mo with their cheapest option. This option also has a 1GB upload speed allowing for up to 650GB uploaded each month which should get you around 80 hours of streaming to 3 platforms. Here’s how to set it up after <a href="https://login.linode.com/signup" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>sigining up for a Linode account</a>:</p>
<h3 id="create-a-linode-server" data-v-38b8429e data-v-38b8429e><a href="#create-a-linode-server" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>Create a Linode server</h3>
<ol data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e><a href="https://cloud.linode.com/linodes/create" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>Create a new Linode server</a></li>
<li data-v-38b8429e data-v-38b8429e>Choose an operating system. I recommend the latest version of Ubuntu</li>
<li data-v-38b8429e data-v-38b8429e>Choose the Region closest to you</li>
<li data-v-38b8429e data-v-38b8429e>Choose a Linode Plan. The cheapest Nanode 1 GB plan is enough for what we’re doing</li>
<li data-v-38b8429e data-v-38b8429e>Choose a password</li>
<li data-v-38b8429e data-v-38b8429e>Click “Create Linode”
<img src="/img/how-to-multistream_1.gif" alt="" style="margin-bottom:20px;width:100%" data-v-38b8429e></li>
</ol>
<h3 id="setup-the-stream-forwarding-service-nginx" data-v-38b8429e data-v-38b8429e><a href="#setup-the-stream-forwarding-service-nginx" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>Setup the stream forwarding service (NGINX)</h3>
<p data-v-38b8429e data-v-38b8429e>Once it’s done you just need to install and set up NGINX which will run your RTMP service. Linode has a great <a href="https://www.linode.com/docs/guides/set-up-a-streaming-rtmp-server/" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>step-by-step article</a> on how to do this but essentially you just need to:</p>
<ol data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Launch the LISH Console for <a href="https://cloud.linode.com/linodes?view=grid" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>your new Linode</a></li>
<li data-v-38b8429e data-v-38b8429e>Install the NGNIX server, RTMP service, and other dependencies</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-text" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>sudo apt install build-essential libpcre3 libpcre3-dev libssl-dev nginx-full libnginx-mod-rtmp ffmpeg
</code></pre></div>
<ol start="2" data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Configure RTMP by editing the NGINX configuration file</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-text" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>vim /etc/nginx/nginx.conf
</code></pre></div>
<ol start="3" data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Paste this RTMP configuration into the NGINX configuration file and update it with your desired forwarding destinations. You can add a "push" line for each service you would like to forward the stream to. Note, Facebook Gaming streams need some extra configuration to work <a href="#how-to-forward-to-facebook-gaming" data-v-38b8429e data-v-38b8429e>which I’ll address later</a>.</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-shell" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>rtmp <span class="token punctuation" data-v-38b8429e data-v-38b8429e>{</span>
  server <span class="token punctuation" data-v-38b8429e data-v-38b8429e>{</span>
    listen <span class="token number" data-v-38b8429e data-v-38b8429e>1935</span><span class="token punctuation" data-v-38b8429e data-v-38b8429e>;</span>

    application live <span class="token punctuation" data-v-38b8429e data-v-38b8429e>{</span>
      live on<span class="token punctuation" data-v-38b8429e data-v-38b8429e>;</span>

      <span class="token comment" data-v-38b8429e data-v-38b8429e># Twitch -- For for a list of ingest URLs see,</span>
      <span class="token comment" data-v-38b8429e data-v-38b8429e># https://stream.twitch.tv/ingests/</span>
      <span class="token comment" data-v-38b8429e data-v-38b8429e>#rtmp://atl.contribute.live-video.net/app/{YOUR-STREAM-KEY}</span>

      <span class="token comment" data-v-38b8429e data-v-38b8429e># YouTube</span>
      <span class="token comment" data-v-38b8429e data-v-38b8429e>#push rtmp://a.rtmp.youtube.com/live2/{YOUR-STREAM-KEY}</span>

      <span class="token comment" data-v-38b8429e data-v-38b8429e># Facebook -- Stunnel must be configured for this to work! I also</span>
      <span class="token comment" data-v-38b8429e data-v-38b8429e># recommend using a persistent stream key if you're setting this up so</span>
      <span class="token comment" data-v-38b8429e data-v-38b8429e># you don't need to update the server configuration with every stream.</span>
      <span class="token comment" data-v-38b8429e data-v-38b8429e>#push rtmp://127.0.0.1:19350/rtmp/{YOUR-STREAM-KEY}</span>
    <span class="token punctuation" data-v-38b8429e data-v-38b8429e>}</span>
  <span class="token punctuation" data-v-38b8429e data-v-38b8429e>}</span>
<span class="token punctuation" data-v-38b8429e data-v-38b8429e>}</span>
</code></pre></div>
<ol start="4" data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Startup your server! You’ll need to run this command any time you make changes to the configuration file for them to get picked up.</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-shell" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>systemctl restart nginx.service <span class="token operator" data-v-38b8429e data-v-38b8429e>&&</span> systemctl status nginx.service
</code></pre></div>
<h3 id="stream" data-v-38b8429e data-v-38b8429e><a href="#stream" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>Stream!</h3>
<p data-v-38b8429e data-v-38b8429e>Now all you need to do is stream to your new RTMP server and it will handle the rest. Just grab the IP address of your Linode instance and put it into OBS under Settings > Stream</p>
<ul data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Service: Custom</li>
<li data-v-38b8429e data-v-38b8429e>Server: rtmp://{{YOUR-LINODE-IP}}/live</li>
<li data-v-38b8429e data-v-38b8429e>Stream Key: Makeup anything you want. Just don't share it with anyone.
<blockquote data-v-38b8429e data-v-38b8429e>
<p data-v-38b8429e data-v-38b8429e>I recommend leaving all "push" lines commented out at first so you can test your server before going live. After starting the server and going live in your streaming software you can open a network stream (File > Open Network) in VLC and enter the stream URL (Ex. http://{your-linode-server-ip}/live/{YOUR-STREM-KEY}). If everything is working you should see your stream in VLC!</p>
</blockquote>
</li>
</ul>
<h2 id="how-to-forward-to-facebook-gaming" data-v-38b8429e data-v-38b8429e><a href="#how-to-forward-to-facebook-gaming" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>How to forward to Facebook Gaming</h2>
<p data-v-38b8429e data-v-38b8429e>That should be all you need to get started. However, there are a couple of extra things you may need to know depending on where you stream. Facebook gaming requires that streams be sent using rtmps which isn’t supported by default in NGINX. Because of this, you’ll need to do some extra steps to get things working with Facebook.</p>
<h3 id="add-support-for-rtmps-with-stunnel" data-v-38b8429e data-v-38b8429e><a href="#add-support-for-rtmps-with-stunnel" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>Add support for rtmps with stunnel</h3>
<ol data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Install <a href="https://www.stunnel.org/" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>stunnel</a>. This service will be used to accept an rtmp stream and forward it to an rtmps destination.</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-text" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>sudo apt-get install stunnel4
</code></pre></div>
<ol start="2" data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Create an stunnel configuration for forwarding to Facebook</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-text" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>vim /etc/stunnel/conf.d/fb.conf
</code></pre></div>
<ol start="3" data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Paste in the following configuration</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-text" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>[fb-live]
client = yes
accept = 127.0.0.1:19350
connect = live-api-s.facebook.com:443
verifyChain = no
</code></pre></div>
<ol start="4" data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Update the stunnel configuration</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-text" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>vim /etc/default/stunnel4
</code></pre></div>
<ol start="5" data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Enable the stunnel service and include the new Facebook configuration file</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-text" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>ENABLE=1
FILES="/etc/stunnel/*.conf"
</code></pre></div>
<ol start="6" data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Update the RTMP configuration</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-text" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>vim /etc/nginx/nginx.conf
</code></pre></div>
<ol start="7" data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Add a new "push" line to forward to stunnel. When the stream comes into your Linode server, NGINX will forward it to your stunnel service over rtmp which will then send it to Facebook over rtmps.</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-text" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>push rtmp://127.0.0.1:19350/rtmp/{YOUR-STREAM-KEY}
</code></pre></div>
<ol start="8" data-v-38b8429e data-v-38b8429e>
<li data-v-38b8429e data-v-38b8429e>Restart nginx and stunnel so your changes take effect. The status commands aren't required but will let you know if the service ran into any issues starting up.</li>
</ol>
<div class="nuxt-content-highlight" data-v-38b8429e data-v-38b8429e><pre class="line-numbers language-text" data-v-38b8429e data-v-38b8429e><code data-v-38b8429e data-v-38b8429e>systemctl restart stunnel4 && systemctl restart nginx.service && systemctl status stunnel4 && systemctl status nginx.service
</code></pre></div>
<h2 id="what-about-transcoding" data-v-38b8429e data-v-38b8429e><a href="#what-about-transcoding" aria-hidden="true" tabindex="-1" data-v-38b8429e data-v-38b8429e><span class="icon icon-link" data-v-38b8429e data-v-38b8429e></span></a>What about transcoding?</h2>
<p data-v-38b8429e data-v-38b8429e>You can also do transcoding with this solution. You’ll just need to install ffmpeg and use the <a href="https://github.com/arut/nginx-rtmp-module/wiki/Directives#exec_push" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>exec_push directive</a> instead of push. However, this will increase the CPU load on the server so you may need to increase the size of the server to get it working. You can find some examples of transcoding on the <a href="https://github.com/arut/nginx-rtmp-module" rel="nofollow noopener noreferrer" target="_blank" data-v-38b8429e data-v-38b8429e>nginx-rtmp-module GitHub page</a> if you’re interested.</p></div> <section data-v-38b8429e><div class="divider" data-v-38b8429e></div></section> <section class="article-footer" data-v-022e5c5f data-v-38b8429e><div class="article-footer__title" data-v-022e5c5f><strong data-v-022e5c5f>Thanks for reading!</strong></div> <div class="article-footer__content" data-v-022e5c5f>
    Hopefully it was helpful. Follow me on Twitter where I post similar
    content and connect with fellow gamers.
  </div> <div class="article-footer__actions" data-v-022e5c5f><a href="https://twitter.com/jzimz" rel="noopener" target="_blank" class="action-link jz-flex-row" data-v-022e5c5f><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px" data-v-022e5c5f data-v-022e5c5f><title data-v-022e5c5f data-v-022e5c5f>Twitter icon</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" data-v-022e5c5f data-v-022e5c5f></path></svg> Follow me on Twitter
    </a></div></section></article></div></div></div><script defer src="/_nuxt/static/1644465539/articles/how-to-multistream/state.js"></script><script src="/_nuxt/520d4d7.js" defer></script><script src="/_nuxt/01c10dc.js" defer></script><script src="/_nuxt/e23b539.js" defer></script><script src="/_nuxt/9617bfc.js" defer></script><script src="/_nuxt/3afc5f9.js" defer></script><script src="/_nuxt/cbe0c1f.js" defer></script><script src="/_nuxt/1951d93.js" defer></script>
  </body>
</html>
